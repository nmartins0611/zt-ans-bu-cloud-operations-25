= Lab Guide: Deploying Applications with Ansible
:toc:
:toc-title: Table of Contents
:sectnums:
:icons: font

This guide demonstrates how to deploy applications to multiple hosts using an Ansible Automation Platform job template.

*Estimated time to complete: 15 minutes*

---

== Lab Overview

Welcome to the final challenge. In this lab, you will use a Job Template to deploy applications to your Linux hosts and then verify the installation using an ad-hoc command.

First, log in to the Ansible Automation Platform UI with the following credentials.

.Login Credentials
[cols="1,2a"]
|===
| Username | `admin`
| Password | `ansible123!`
|===

---

== Task 1: Deploy Applications with a Job Template

In this task, you will launch a pre-configured job template and use a survey to specify which applications to deploy and on which hosts.

. **Navigate to the Templates page.**
+
From the left navigation menu, select *Templates*.

. **Launch the "Deploy Application" job template.**
+
Find the `Deploy Application` template in the list and click the **Launch** icon (ðŸš€).

. **Complete the survey.**
+
You will be prompted with a survey. Configure it as follows:
+
--
a. In the first field, the default application is `httpd`. **Add `nginx`** to the list of applications to install.
b. In the second field for hosts, the default is `rhel1`. **Add `rhel2`** to also install the applications on the second host.
c. Click **Next**.
--

. **Review and finish the job.**
+
On the *Review* screen, observe the job details and the extra variables generated by the survey. Click **Finish** to launch the job.

. **Monitor the job progress.**
+
The job will take a few moments to complete. The output will confirm which applications were installed on each host.

---

== Task 2: Verify Installation with an Ad-Hoc Command

Now, you will run an ad-hoc command to confirm that the `nginx` service was installed and is running on both hosts.

. **Navigate to your inventory hosts.**
+
In the left navigation menu, go to *Infrastructure* â†’ *Inventories*, click on `AWS Inventory`, and then select the *Hosts* tab.

. **Select hosts and run a command.**
+
Select the checkbox next to both `rhel1` and `rhel2`, then click the **Run command** button.

. **Configure the ad-hoc command.**
+
A wizard will appear. Fill it out as follows:
+
--
a. *Details View:* From the *Module* dropdown, select `service`. In the *Arguments* field, enter `name=nginx`. Click **Next**.
b. *Execution Environment View:* Select `Default execution environment`. Click **Next**.
c. *Credential View:* Select `RHEL on AWS - SSH KEY`. Click **Next**.
--

. **Launch the ad-hoc command.**
+
On the *Review* screen, click **Finish**.

. **Observe the output.**
+
The job will complete in a few moments. The output will list both hosts and provide details about the `nginx` service, confirming its status.

---

== Conclusion

Thank you for taking the time to learn about automating cloud operations tasks in AWS using the Red Hat Ansible Automation Platform!

In this lab, you have seen how automation can be used to deploy applications and how ad-hoc commands can be used to perform quick checks on target hosts. These same principles can be easily applied to other cloud environments and a wide variety of operational tasks.

== Troubleshooting

If you have encountered an issue or have noticed something not quite right, please link:https://github.com/ansible/instruqt/issues/new?title=Issue+with+Ansible+Hybrid+Cloud+Automation+-+Cloud+Operations+(aap2.5)&assignees=hichammourad[open an issue on GitHub].
