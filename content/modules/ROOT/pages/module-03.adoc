= Lab Guide: Deploying Applications with Ansible
:notoc:
:toc-title: Table of Contents
:icons: font

_A guide to deploying applications to Linux hosts using a job template and verifying the installation with ad-hoc commands._

---

== Lab Briefing

This section provides an overview of the lab challenge and instructions for getting started.

=== Challenge Summary

In this challenge, you'll deploy applications to your Linux hosts using a pre-created Job Template named `Deploy Application`.

After launching the template, you will monitor its progress. Finally, you will use Ansible Automation Platform's **ad-hoc command** capability to verify that the application was installed correctly. This built-in functionality allows operations teams to get value right away without needing to write a full Ansible Playbook.

=== Infrastructure Use Cases

Ansible can automate many hybrid cloud tasks, as well as your on-premises Linux and Windows infrastructure. Red Hat refers to this as `infrastructure automation`.

image::../assets/images/use-caes-infra.png[Diagram showing infrastructure automation use cases, opts="border"]

The use case you are focusing on in this lab is **application deployment**.

=== Getting Started

That is the end of your challenge briefing! Please click the green **Start** button in the bottom right corner of this window if the lab has not already started.

image:https://github.com/IPvSean/pictures_for_github/blob/master/start_button.png?raw=true[Start Button, 100, opts="border"]

---

== Lab Guide: Hands-On Tasks

*Estimated time to complete: 15 minutes*

Your assignment is to deploy applications using the Ansible Automation Platform.

=== Task 1: Deploy Applications with a Job Template

In this task, you will launch a pre-configured job template and use a survey to specify which applications to deploy and on which hosts.

. **Navigate to the Automation Controller UI.**
+
Click on the **Automation Controller** tab at the top of your lab window.

. **Log in with the provided credentials.**
+
[cols="1,2a"]
|===
| Username | `admin`
| Password | `ansible123!`
|===

. **Navigate to the Templates page.**
+
In the left navigation menu, go to **Automation Execution** â†’ **Templates**.

. **Launch the "Deploy Application" job template.**
+
Find the `Deploy Application` template in the list and click the **Launch** icon (ðŸš€).

. **Complete the survey.**
+
You will be prompted with a survey. Configure it as follows:
+
--
a. In the first field, the default application is `httpd`. **Add `nginx`** to the list of applications to install.
b. In the second field for hosts, the default is `rhel1`. **Add `rhel2`** to also install the applications on the second host.
c. Click **Next**.
--

. **Review and finish the job.**
+
On the *Review* screen, observe the job details and the extra variables generated by the survey. Click **Finish** to launch the job.

. **Monitor the job progress.**
+
The job will take a few moments to complete. The output will confirm which applications were installed on each host.

=== Task 2: Verify Installation with an Ad-Hoc Command

Now, you will run an ad-hoc command to confirm that the `nginx` service was installed and is running on both hosts.

. **Navigate to your inventory hosts.**
+
In the left navigation menu, go to **Automation Execution** â†’ **Infrastructure** â†’ **Inventories**, click on `AWS Inventory`, and then select the **Hosts** tab.

. **Select hosts and run a command.**
+
Select the checkbox next to both `rhel1` and `rhel2`, then click the **Run command** button.

. **Configure the ad-hoc command.**
+
A wizard will appear. Fill it out as follows:
+
--
a. *Details View:* From the *Module* dropdown, select `service`. In the *Arguments* field, enter `name=nginx`. Click **Next**.
b. *Execution Environment View:* Select `Default execution environment`. Click **Next**.
c. *Credential View:* Select `RHEL on AWS - SSH KEY`. Click **Next**.
--

. **Launch the ad-hoc command.**
+
On the *Review* screen, click **Finish**.

. **Observe the output.**
+
The job will complete in a few moments. The output will list both hosts and provide details about the `nginx` service, confirming its status.

---

== Conclusion

Thank you for taking the time to learn about automating cloud operations tasks in AWS using the Red Hat Ansible Automation Platform! In this lab, you have seen how automation can be used to deploy applications and how ad-hoc commands can perform quick checks on target hosts. These same principles can be easily applied to other cloud environments.

== Troubleshooting

If you have encountered an issue or have noticed something not quite right, please link:https://github.com/ansible/instruqt/issues/new?title=Issue+with+Ansible+Hybrid+Cloud+Automation+-+Cloud+Operations+(aap2.5)&assignees=hichammourad[open an issue on GitHub].
