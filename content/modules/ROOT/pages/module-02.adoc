 üëã Challenge introduction.
===
+
== Your assignment.
+
=== _Estimated time to complete: 15 minutes_<p>
* Create a Job Template to perform OS patching of EC2 instances on AWS.
In this example we will patch Red Hat Enterprise Linux servers.
You will also generate a report and view it on one of the server instances.

= ‚òëÔ∏è Task 1 - Create and run the Job Template to patch the Linux hosts.

Log in to the `Ansible Automation Controller`.

* Click on the `Automation Controller` tab at the top of lab.
You will notice a number of tabs in the labs toolbar

Log in using the following credentials: + _Login credentials:_<p> `User:  admin` <p> `Password:  ansible123!` <p>

'''

Click on the `Templates` link under the `Automation Execution` on the left navigation menu.

* Now click on `+ Create Template` then scroll down and click  `Create job template` image:https://github.com/HichamMourad/awsops25/blob/master/images/create_templates.png?raw=true[,600]

Fill out the following fields:+++<table>++++++<tr>++++++<th>+++Parameter+++</th>++++++<th>+++Value+++</th>++++++</tr>+++
+++<tr>++++++<td>+++Name+++</td>++++++<td>+++Linux Patching+++</td>+++
+++<tr>++++++<td>+++Job Type+++</td>++++++<td>+++Check+++</td>+++
+++<tr>++++++<td>+++Inventory+++</td>++++++<td>+++AWS Inventory+++</td>+++
+++<tr>++++++<td>+++Project+++</td>++++++<td>+++AWS Demo Project+++</td>+++
+++<tr>++++++<td>+++Execution Environment+++</td>++++++<td>+++Default execution environment+++</td>+++
+++<tr>++++++<td>+++Playbook+++</td>++++++<td>+++playbooks/lab2-patching.yml+++</td>+++
+++<tr>++++++<td>+++Credentials+++</td>++++++<td>+++RHEL on AWS - SSH KEY+++</td>+++
</table>

For the `Credentials` you will have to select `Machine` from the `Select Category` dropdown; then the `RHEL on AWS - SSH KEY` will show up in the list to select.

Scroll to the bottom Click the blue `Create Job Template` button to **save** the job template.

Click on the `Survey` menu option to create a Survey for this job template.
Now click the blue `+ Create survey question` button.
Fill out the following fields on the Survey form:

+++<table>++++++<tr>++++++<th>+++Parameter+++</th>++++++<th>+++Value+++</th>++++++</tr>+++
+++<tr>++++++<td>+++Question+++</td>++++++<td>+++Enter the Linux Host you want to patch+++</td>+++
+++<tr>++++++<td>+++Answer variable name+++</td>++++++<td>+++HOSTS+++</td>+++
+++<tr>++++++<td>+++Answer type+++</td>++++++<td>+++Multiple Choice (single select)+++</td>+++
+++<tr>++++++<td>+++Required+++</td>++++++<td>+++‚òëÔ∏è+++</td>+++
+++<tr>++++++<td>+++Multiple Choice Options+++</td>++++++<td>+++rhel1+++</td>+++
</table>

Click the `Default option` radio button next to `rhel1`

Scroll to the bottom and click ` Create survey question`.

Enable the Survey by turning on the `Survey Disabled` dial.  Once you do this the text will change to `Survey Enabled`.
+++<img src="https://github.com/HichamMourad/awsops25/blob/master/images/survey_toggle_short.png?raw=true" style="width:600px;margin-left:0px">++++++</img>+++

Click the `Launch template` button in the top right to launch the job again.

You will be prompted to respond to the survey question.  `rhel1` is already the default value, click `Next` to review the jot template details, and click `Finish`.

Observe the output of the Job Template run.  Recall that we had set the job type to `Check` as `Run` would have taken some additional time.  As you can see the job output points to the Linux Patching reports. More on this in the next task!


‚òëÔ∏è Task 2 - View the report output from the Patch automation job.
===

The output from the `Linux Patch` job will provide some URLs to the patch reports.

The URLs will look like the following: `http://+++<ip-address>+++/reports/linux.html` and `http://+++<ip-addres>+++/reports/linuxpatch.html`

- Copy and paste each of these URLs to a new browser window to view them.  Notice that in the `linuxpatch.html` report you will see a list of all the patch updates that would be installed, and what would be removed.

Please note that in this challenge we performed Linux patching, but you can also perform Windows patching using Ansible Automation Platform.

When you are done, please `move on to the next challenge`. Click `Next`.


‚úÖ Next Challenge.
===

Press the `Next` button below to go to the next challenge once you've completed this challenge.+++</ip-addres>++++++</ip-address>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</table>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</table>+++
